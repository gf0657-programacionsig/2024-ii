
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>matplotlib: biblioteca para visualización de datos &#8212; GF-0657 Programación en SIG 2024-II</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'contenido/3/matplotlib';</script>
    <link rel="canonical" href="https://gf0657-programacionsig.github.io/2024-ii/contenido/3/matplotlib.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tarea 1" href="../evaluaciones/tarea-01.html" />
    <link rel="prev" title="pandas: biblioteca para análisis y manipulación de datos" href="pandas.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="GF-0657 Programación en SIG 2024-II - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="GF-0657 Programación en SIG 2024-II - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">1 - INTRODUCCIÓN A LA PROGRAMACIÓN DE COMPUTADORAS Y A LA CIENCIA DE DATOS GEOESPACIALES</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1/introduccion-programacion-computadoras.html">Introducción a la programación de computadoras</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/introduccion-ciencia-datos.html">Introducción a la ciencia de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/introduccion-ciencia-datos-geoespaciales.html">Introducción a la ciencia de datos geoespaciales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1/markdown.html">Markdown - lenguaje de marcado</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">2 - EL LENGUAJE DE PROGRAMACIÓN PYTHON</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2/introduccion-python.html">Introducción a Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2/lenguaje-python.html">El lenguaje Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2/api.html">Interfaces de programación de aplicaciones (API)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3 - ANÁLISIS Y VISUALIZACIÓN DE DATOS</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pandas.html">pandas: biblioteca para análisis y manipulación de datos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">matplotlib: biblioteca para visualización de datos</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">EVALUACIONES</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../evaluaciones/tarea-01.html">Tarea 1</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../software/vscode.html">Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/miniconda.html">Miniconda</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/gf0657-programacionsig/2024-ii/main?urlpath=tree/contenido/3/matplotlib.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/gf0657-programacionsig/2024-ii/blob/main/contenido/3/matplotlib.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gf0657-programacionsig/2024-ii" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gf0657-programacionsig/2024-ii/edit/main/contenido/3/matplotlib.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gf0657-programacionsig/2024-ii/issues/new?title=Issue%20on%20page%20%2Fcontenido/3/matplotlib.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/contenido/3/matplotlib.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>matplotlib: biblioteca para visualización de datos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalacion-y-carga">Instalación y carga</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaces">Interfaces</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaz-de-axes-basada-en-objetos-explicita">Interfaz de <code class="docutils literal notranslate"><span class="pre">Axes</span></code> (basada en objetos, explícita)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaz-de-pyplot-basada-en-funciones-implicita">Interfaz de <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> (basada en funciones, implícita)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integracion-con-pandas">Integración con pandas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipos-de-graficos">Tipos de gráficos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-dispersion">Gráficos de dispersión</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplos">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#poblacion-vs-pib">Población vs PIB</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#esperanza-de-vida-vs-pib-per-capita">Esperanza de vida vs PIB per cápita</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicios">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-lineas">Gráficos de líneas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucion-en-el-tiempo-de-la-esperanza-de-vida-al-nacer">Evolución en el tiempo de la esperanza de vida al nacer</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-barras">Gráficos de barras</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#suma-de-poblacion-por-continente">Suma de población por continente</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#suma-de-poblacion-por-region-y-subregion-de-la-onu">Suma de población por región y subregión de la ONU</a><ul class="nav section-nav flex-column">
<li class="toc-h6 nav-item toc-entry"><a class="reference internal nav-link" href="#barras-apiladas">Barras apiladas</a></li>
<li class="toc-h6 nav-item toc-entry"><a class="reference internal nav-link" href="#barras-agrupadas">Barras agrupadas</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otros">Otros</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#climogramas">Climogramas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="matplotlib-biblioteca-para-visualizacion-de-datos">
<h1>matplotlib: biblioteca para visualización de datos<a class="headerlink" href="#matplotlib-biblioteca-para-visualizacion-de-datos" title="Link to this heading">#</a></h1>
<p><a class="reference external" href="https://colab.research.google.com/github/gf0657-programacionsig/2024-ii/blob/main/contenido/3/matplotlib.ipynb"><img alt="Abrir en Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<section id="introduccion">
<h2>Introducción<a class="headerlink" href="#introduccion" title="Link to this heading">#</a></h2>
<p>La biblioteca <a class="reference external" href="https://matplotlib.org/">matplotlib</a> es una de las más populares de Python para visualización de datos. Se utiliza principalmente para crear gráficos estáticos en dos dimensiones, pero también puede emplearse para generar visualizaciones animadas, interactivas y en tres dimensiones.</p>
<p>matplotlib se compone de varios módulos, siendo <a class="reference external" href="https://matplotlib.org/stable/api/pyplot_summary.html"><code class="docutils literal notranslate"><span class="pre">pyplot</span></code></a> el principal y el más utilizado.</p>
</section>
<section id="instalacion-y-carga">
<h2>Instalación y carga<a class="headerlink" href="#instalacion-y-carga" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga del módulo pyplot de matplotlib con el alias plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Módulo para configurar las marcas (&quot;ticks&quot;) de los ejes de los gráficos</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="interfaces">
<h2>Interfaces<a class="headerlink" href="#interfaces" title="Link to this heading">#</a></h2>
<p>matplotlib cuenta con dos <a class="reference external" href="https://matplotlib.org/stable/api/index">interfaces</a> para crear visualizaciones: una basada en la clase <code class="docutils literal notranslate"><span class="pre">Axes</span></code> y otra basada en el módulo <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>.</p>
<section id="interfaz-de-axes-basada-en-objetos-explicita">
<h3>Interfaz de <code class="docutils literal notranslate"><span class="pre">Axes</span></code> (basada en objetos, explícita)<a class="headerlink" href="#interfaz-de-axes-basada-en-objetos-explicita" title="Link to this heading">#</a></h3>
<p>Esta interfaz es orientada a objetos y utiliza métodos para tareas como agregar datos, configurar los límites de los ejes y especificar etiquetas, entre otras. Permite controlar una gran cantidad de detalles y se recomienda para visualizaciones complejas o con múltiples gráficos.</p>
<p>La estructura principal de una visualización programada con esta interfaz consta de objetos de dos clases:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.html"><code class="docutils literal notranslate"><span class="pre">Figure</span></code></a> (figura): es el contenedor general de los gráficos. Puede verse como un <em>canvas</em> o lienzo en el que estos se dibujan.</p></li>
<li><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html"><code class="docutils literal notranslate"><span class="pre">Axes</span></code></a> (gráficos o subgráficos): son los gráficos contenidos en la figura. Un objeto de la clase <code class="docutils literal notranslate"><span class="pre">Axes</span></code> contiene elementos visuales como geometrías (líneas, barras, histogramas, etc.), títulos y etiquetas.</p></li>
</ul>
<p>En el siguiente bloque de código se genera una figura con un gráfico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Figura con:</span>
<span class="c1"># - Gráfico de dispersión que muestra la relación entre estatura y peso.</span>

<span class="c1"># Datos</span>
<span class="n">estatura</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.77</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.63</span><span class="p">,</span> <span class="mf">1.69</span><span class="p">,</span> <span class="mf">1.75</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">1.55</span><span class="p">,</span> <span class="mf">1.65</span><span class="p">,</span> <span class="mf">1.71</span><span class="p">,</span> <span class="mf">1.85</span><span class="p">,</span> <span class="mf">1.73</span><span class="p">,</span> <span class="mf">1.62</span><span class="p">]</span>
<span class="n">peso</span> <span class="o">=</span> <span class="p">[</span><span class="mf">75.1</span><span class="p">,</span> <span class="mf">62.9</span><span class="p">,</span> <span class="mf">78.4</span><span class="p">,</span> <span class="mf">61.2</span><span class="p">,</span> <span class="mf">67.8</span><span class="p">,</span> <span class="mf">71.1</span><span class="p">,</span> <span class="mf">75.5</span><span class="p">,</span> <span class="mf">81.6</span><span class="p">,</span> <span class="mf">82.2</span><span class="p">,</span> <span class="mf">64.4</span><span class="p">,</span> <span class="mf">65.6</span><span class="p">,</span> <span class="mf">72.2</span><span class="p">,</span> <span class="mf">90.3</span><span class="p">,</span> <span class="mf">74.3</span><span class="p">,</span> <span class="mf">66.7</span><span class="p">]</span>

<span class="c1"># Creación una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># Creación de un gráfico de dispersión</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">estatura</span><span class="p">,</span> <span class="n">peso</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Relación entre estatura y peso&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Estatura (m)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Peso (kg)&#39;</span><span class="p">)</span>

<span class="c1"># Despliegue de la figura</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/5ea810c152dfcbbe69dcdde1b6db1507003dbfe8f31d9874f914bb8e90c9e669.png" src="../../_images/5ea810c152dfcbbe69dcdde1b6db1507003dbfe8f31d9874f914bb8e90c9e669.png" />
</div>
</div>
<p>En este ejemplo se utilizaron los siguientes métodos:</p>
<ol class="arabic simple">
<li><p>El método <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplots.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.subplots()</span></code></a> retorna, en una tupla, una figura y un conjunto de gráficos. La figura se almacena en el objeto <code class="docutils literal notranslate"><span class="pre">fig</span></code> y el único gráfico en el objeto <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>El método <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.scatter()</span></code></a> genera un gráfico de dispersión (<em>scatter plot</em>) en el subgráfico <code class="docutils literal notranslate"><span class="pre">ax</span></code>.</p></li>
<li><p>Los métodos <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_title.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.set_title()</span></code></a>, <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlabel.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.set_xlabel()</span></code></a> y <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylabel.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.set_ylabel()</span></code></a> ayudan a personalizar el gráfico <code class="docutils literal notranslate"><span class="pre">ax</span></code> al especificar respectivamente el título, la etiqueta del eje x y la etiqueta del eje y.</p></li>
<li><p>Por último, el método <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.show()</span></code></a> despliega todas las figuras que han sido creadas. En este caso, solo se despliega <code class="docutils literal notranslate"><span class="pre">fig</span></code>. Una figura específica puede desplegarse con el método <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.show.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.figure.Figure.show()</span></code></a>. Sin embargo, debe tenerse en cuenta que este último método puede no funcionar adecuadamente en ambientes interactivos como cuadernos de notas de Jupyter.</p></li>
</ol>
<p>La interfaz basada en subgráficos también puede utilizarse para generar figuras con varios gráficos, como en el siguiente bloque de código:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Figura con:</span>
<span class="c1"># - Gráfico de dispersión que muestra la relación entre estatura y peso.</span>
<span class="c1"># - Gráfico de dispersión que muestra la relación entre peso y grasa corporal.</span>

<span class="c1"># Datos</span>
<span class="n">estatura</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.77</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.63</span><span class="p">,</span> <span class="mf">1.69</span><span class="p">,</span> <span class="mf">1.75</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">1.55</span><span class="p">,</span> <span class="mf">1.65</span><span class="p">,</span> <span class="mf">1.71</span><span class="p">,</span> <span class="mf">1.85</span><span class="p">,</span> <span class="mf">1.73</span><span class="p">,</span> <span class="mf">1.62</span><span class="p">]</span>
<span class="n">peso</span> <span class="o">=</span> <span class="p">[</span><span class="mf">75.1</span><span class="p">,</span> <span class="mf">62.9</span><span class="p">,</span> <span class="mf">78.4</span><span class="p">,</span> <span class="mf">61.2</span><span class="p">,</span> <span class="mf">67.8</span><span class="p">,</span> <span class="mf">71.1</span><span class="p">,</span> <span class="mf">75.5</span><span class="p">,</span> <span class="mf">81.6</span><span class="p">,</span> <span class="mf">82.2</span><span class="p">,</span> <span class="mf">64.4</span><span class="p">,</span> <span class="mf">65.6</span><span class="p">,</span> <span class="mf">72.2</span><span class="p">,</span> <span class="mf">90.3</span><span class="p">,</span> <span class="mf">74.3</span><span class="p">,</span> <span class="mf">66.7</span><span class="p">]</span>
<span class="n">grasa_corporal</span> <span class="o">=</span> <span class="p">[</span><span class="mf">19.43</span><span class="p">,</span> <span class="mf">20.88</span><span class="p">,</span> <span class="mf">19.59</span><span class="p">,</span> <span class="mf">19.29</span><span class="p">,</span> <span class="mf">20.96</span><span class="p">,</span> <span class="mf">20.53</span><span class="p">,</span> <span class="mf">20.09</span><span class="p">,</span> <span class="mf">20.7</span><span class="p">,</span> <span class="mf">17.96</span><span class="p">,</span> <span class="mf">22.67</span><span class="p">,</span> <span class="mf">19.35</span><span class="p">,</span> <span class="mf">20.25</span><span class="p">,</span> <span class="mf">22.26</span><span class="p">,</span> <span class="mf">20.37</span><span class="p">,</span> <span class="mf">20.88</span><span class="p">]</span>

<span class="c1"># Creación de una figura de 8x6 pulgadas</span>
<span class="c1"># con espacio para dos gráficos distribuidos en 2 filas y 1 columna</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del primer gráfico de dispersión en ax1</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">estatura</span><span class="p">,</span> <span class="n">peso</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>

<span class="c1"># Creación del segundo gráfico de dispersión en ax12</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">peso</span><span class="p">,</span> <span class="n">grasa_corporal</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="c1"># Personalización de ax1</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Relación entre estatura y peso&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Estatura (m)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Peso (kg)&#39;</span><span class="p">)</span>

<span class="c1"># Personalización de ax2</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Relación entre peso y grasa corporal&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Peso (kg)&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Grasa corporal (%)&#39;</span><span class="p">)</span>

<span class="c1"># Ajuste del espacio entre los gráficos</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Despliegue de la figura</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/32c01c200e166c920bb72a0f7bacb1908781a40c1491e920bd3bc1a448a29bcf.png" src="../../_images/32c01c200e166c920bb72a0f7bacb1908781a40c1491e920bd3bc1a448a29bcf.png" />
</div>
</div>
<p>En este caso, el método <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.subplots()</span></code> fue llamado con los argumentos <code class="docutils literal notranslate"><span class="pre">nrows</span></code> y <code class="docutils literal notranslate"><span class="pre">ncols</span></code> correspondientes a la cantidad de filas (1) y de columnas (2), lo que proporciona espacio para dos gráficos: <code class="docutils literal notranslate"><span class="pre">ax1</span></code> y <code class="docutils literal notranslate"><span class="pre">ax2</span></code>. El argumento <code class="docutils literal notranslate"><span class="pre">figsize</span></code> especifica el tamaño de la figura en pulgadas (8 de ancho x 6 de alto). El método <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.tight_layout.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.tight_layout()</span></code></a> ajusta el espacio entre y alrededor de los gráficos. En <code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.scatter()</span></code> se usa el argumento <code class="docutils literal notranslate"><span class="pre">c</span></code> para especificar el color de los puntos.</p>
<p>En este curso, se prefiere esta interfaz por ser más adecuada para gráficos complejos y proporcionar mayor control.</p>
</section>
<section id="interfaz-de-pyplot-basada-en-funciones-implicita">
<h3>Interfaz de <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> (basada en funciones, implícita)<a class="headerlink" href="#interfaz-de-pyplot-basada-en-funciones-implicita" title="Link to this heading">#</a></h3>
<p>Esta interfaz es conveniente para gráficos simples y rápidos. La mayoría de las funciones se llaman directamente desde <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>. Las clases <code class="docutils literal notranslate"><span class="pre">Figure</span></code> y <code class="docutils literal notranslate"><span class="pre">Axes</span></code> se manipulan a través de estas funciones, sin tener que declarar objetos, por lo que se dice que se usan de manera “implícita”.</p>
<p>El siguiente bloque de código genera un gráfico mediante esta interfaz.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Figura con:</span>
<span class="c1"># - Gráfico de dispersión que muestra la relación entre estatura y peso.</span>

<span class="c1"># Datos</span>
<span class="n">estatura</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.77</span><span class="p">,</span> <span class="mf">1.57</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.63</span><span class="p">,</span> <span class="mf">1.69</span><span class="p">,</span> <span class="mf">1.75</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">1.55</span><span class="p">,</span> <span class="mf">1.65</span><span class="p">,</span> <span class="mf">1.71</span><span class="p">,</span> <span class="mf">1.85</span><span class="p">,</span> <span class="mf">1.73</span><span class="p">,</span> <span class="mf">1.62</span><span class="p">]</span>
<span class="n">peso</span> <span class="o">=</span> <span class="p">[</span><span class="mf">75.1</span><span class="p">,</span> <span class="mf">62.9</span><span class="p">,</span> <span class="mf">78.4</span><span class="p">,</span> <span class="mf">61.2</span><span class="p">,</span> <span class="mf">67.8</span><span class="p">,</span> <span class="mf">71.1</span><span class="p">,</span> <span class="mf">75.5</span><span class="p">,</span> <span class="mf">81.6</span><span class="p">,</span> <span class="mf">82.2</span><span class="p">,</span> <span class="mf">64.4</span><span class="p">,</span> <span class="mf">65.6</span><span class="p">,</span> <span class="mf">72.2</span><span class="p">,</span> <span class="mf">90.3</span><span class="p">,</span> <span class="mf">74.3</span><span class="p">,</span> <span class="mf">66.7</span><span class="p">]</span>

<span class="c1"># Creación de un gráfico de dispersión</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">estatura</span><span class="p">,</span> <span class="n">peso</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relación entre estatura y peso&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Estatura (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Peso (kg)&#39;</span><span class="p">)</span>

<span class="c1"># Despliegue de la figura</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/5ea810c152dfcbbe69dcdde1b6db1507003dbfe8f31d9874f914bb8e90c9e669.png" src="../../_images/5ea810c152dfcbbe69dcdde1b6db1507003dbfe8f31d9874f914bb8e90c9e669.png" />
</div>
</div>
<p>En esta visualización, las funciones <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.scatter.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.scatter()</span></code></a>, <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.title.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.title()</span></code></a>, <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.xlabel.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.xlabel()</span></code></a> y <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.ylabel.html"><code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.ylabel()</span></code></a> y <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.show()</span></code> acceden a una figura y a un gráfico que han sido creados de manera implícita por <code class="docutils literal notranslate"><span class="pre">pyplot</span></code>.</p>
</section>
</section>
<section id="integracion-con-pandas">
<h2>Integración con pandas<a class="headerlink" href="#integracion-con-pandas" title="Link to this heading">#</a></h2>
<p>pandas cuenta con un sistema de graficación basado en matplotlib, lo que permite crear gráficos directamente a partir de series y dataframes de pandas.</p>
<p>El método <a class="reference internal" href="#pandas.DataFrame.plot"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot()</span></code></span></a> genera gráficos de diferentes tipos, los cuales se especifican por medio del argumento <code class="docutils literal notranslate"><span class="pre">kind</span></code> (kind=’bar’, kind=’pie’, kind=’hist’, kind=’scatter’, etc.). Cada tipo de gráfico puede generarse también a través de funciones como <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.bar()</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.pie()</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.hist()</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.scatter()</span></code> y otras.</p>
</section>
<section id="tipos-de-graficos">
<h2>Tipos de gráficos<a class="headerlink" href="#tipos-de-graficos" title="Link to this heading">#</a></h2>
<p>En los siguientes ejemplos, se utiliza el conjunto de datos de <a class="reference external" href="https://github.com/gf0657-programacionsig/2024-ii/blob/main/datos/natural-earth/paises.csv">países de Natural Earth</a>, el cual se carga y se configura en el siguiente bloque de código.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Configuración de pandas para mostrar separadores de miles y 2 dígitos decimales</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.float_format&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>

<span class="c1"># Carga de datos de países en un dataframe</span>
<span class="n">paises</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/gf0657-programacionsig/2024-ii/refs/heads/main/datos/natural-earth/paises.csv&quot;</span>
<span class="p">)</span>

<span class="c1"># Se usa la columna ADM0_ISO como índice</span>
<span class="n">paises</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;ADM0_ISO&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Despliegue de una muestra aleatoria de 5 filas</span>
<span class="n">paises</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>CONTINENT</th>
      <th>REGION_UN</th>
      <th>SUBREGION</th>
      <th>REGION_WB</th>
      <th>ECONOMY</th>
      <th>INCOME_GRP</th>
      <th>POP_EST</th>
      <th>GDP_MD</th>
    </tr>
    <tr>
      <th>ADM0_ISO</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>UZB</th>
      <td>Uzbekistan</td>
      <td>Asia</td>
      <td>Asia</td>
      <td>Central Asia</td>
      <td>Europe &amp; Central Asia</td>
      <td>6. Developing region</td>
      <td>4. Lower middle income</td>
      <td>33,580,650.00</td>
      <td>57921</td>
    </tr>
    <tr>
      <th>MMR</th>
      <td>Myanmar</td>
      <td>Asia</td>
      <td>Asia</td>
      <td>South-Eastern Asia</td>
      <td>East Asia &amp; Pacific</td>
      <td>7. Least developed region</td>
      <td>5. Low income</td>
      <td>54,045,420.00</td>
      <td>76085</td>
    </tr>
    <tr>
      <th>ISL</th>
      <td>Iceland</td>
      <td>Europe</td>
      <td>Europe</td>
      <td>Northern Europe</td>
      <td>Europe &amp; Central Asia</td>
      <td>2. Developed region: nonG7</td>
      <td>1. High income: OECD</td>
      <td>361,313.00</td>
      <td>24188</td>
    </tr>
    <tr>
      <th>TTO</th>
      <td>Trinidad and Tobago</td>
      <td>North America</td>
      <td>Americas</td>
      <td>Caribbean</td>
      <td>Latin America &amp; Caribbean</td>
      <td>6. Developing region</td>
      <td>2. High income: nonOECD</td>
      <td>1,394,973.00</td>
      <td>24269</td>
    </tr>
    <tr>
      <th>B28</th>
      <td>W. Sahara</td>
      <td>Africa</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>Middle East &amp; North Africa</td>
      <td>7. Least developed region</td>
      <td>5. Low income</td>
      <td>603,253.00</td>
      <td>907</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="graficos-de-dispersion">
<h3>Gráficos de dispersión<a class="headerlink" href="#graficos-de-dispersion" title="Link to this heading">#</a></h3>
<p>Un <a class="reference external" href="https://es.wikipedia.org/wiki/Diagrama_de_dispersi%C3%B3n">gráfico de dispersión (en inglés, <em>scatter plot</em>)</a> despliega los valores de dos variables numéricas, como puntos en un sistema de coordenadas. El valor de una variable se despliega en el eje X y el de la otra variable en el eje Y. Variables adicionales pueden ser mostradas mediante atributos de los puntos, tales como su tamaño, color o forma.</p>
<p>En matplotlib, los gráficos de dispersión se generan con el método <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.scatter.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.scatter()</span></code></a>.</p>
<section id="ejemplos">
<h4>Ejemplos<a class="headerlink" href="#ejemplos" title="Link to this heading">#</a></h4>
<section id="poblacion-vs-pib">
<h5>Población vs PIB<a class="headerlink" href="#poblacion-vs-pib" title="Link to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subconjunto de países seleccionados</span>
<span class="n">paises_seleccionados</span> <span class="o">=</span> <span class="n">paises</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;PAN&#39;</span><span class="p">,</span> <span class="s1">&#39;CRI&#39;</span><span class="p">,</span> <span class="s1">&#39;NIC&#39;</span><span class="p">,</span> <span class="s1">&#39;SLV&#39;</span><span class="p">,</span> <span class="s1">&#39;HND&#39;</span><span class="p">,</span> <span class="s1">&#39;GTM&#39;</span><span class="p">,</span> <span class="s1">&#39;BLZ&#39;</span><span class="p">]]</span>

<span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de dispersión</span>
<span class="n">paises_seleccionados</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">,</span> 
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;GDP_MD&#39;</span><span class="p">,</span> 
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">50</span>
<span class="p">)</span>

<span class="c1"># Etiquetas en cada punto</span>
<span class="n">desplazamiento_x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">desplazamiento_y</span> <span class="o">=</span> <span class="mf">1.02</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">paises_seleccionados</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">desplazamiento_x</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;GDP_MD&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">desplazamiento_y</span><span class="p">,</span> 
        <span class="n">s</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> 
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> 
        <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span>
    <span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Relación entre población y producto interno bruto (PIB)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Población (habitantes)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;PIB (millones de dólares)&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Cuadrícula</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/587f9839562c6f556c22fc7ae18af8f0d8705b5399bf3a0774fd9de04d052405.png" src="../../_images/587f9839562c6f556c22fc7ae18af8f0d8705b5399bf3a0774fd9de04d052405.png" />
</div>
</div>
</section>
<section id="esperanza-de-vida-vs-pib-per-capita">
<h5>Esperanza de vida vs PIB per cápita<a class="headerlink" href="#esperanza-de-vida-vs-pib-per-capita" title="Link to this heading">#</a></h5>
<p>Se agrega la columna <code class="docutils literal notranslate"><span class="pre">LIFE_EXPECTANCY</span></code> (esperanza de vida al nacer) al dataframe <code class="docutils literal notranslate"><span class="pre">paises</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga de datos de esperanza de vida al nacer por país</span>
<span class="n">esperanza_vida</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/gf0657-programacionsig/2024-ii/refs/heads/main/datos/world-bank/paises-esperanza-vida.csv&quot;</span>
<span class="p">)</span>

<span class="c1"># Se usa la columna &#39;Country Code&#39; como índice</span>
<span class="n">esperanza_vida</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Country Code&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Reducción de columnas de esperanza_vida</span>
<span class="n">esperanza_vida</span> <span class="o">=</span> <span class="n">esperanza_vida</span><span class="p">[[</span><span class="s1">&#39;2022&#39;</span><span class="p">]]</span>

<span class="c1"># Unión de los dataframes paises y esperanza_vida</span>
<span class="n">paises</span> <span class="o">=</span> <span class="n">paises</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">esperanza_vida</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>

<span class="c1"># Cambio de nombre de la nueva columna</span>
<span class="n">paises</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;2022&#39;</span><span class="p">:</span> <span class="s1">&#39;LIFE_EXPECTANCY&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Se agrega la columna <code class="docutils literal notranslate"><span class="pre">GDP_PC</span></code> (producto interno bruto per cápita) al dataframe <code class="docutils literal notranslate"><span class="pre">paises</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pib_per_capita</span><span class="p">(</span><span class="n">pib</span><span class="p">,</span> <span class="n">poblacion</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retorna el PIB per cápita dados el PIB de un país (en millones de dólares) y su población.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">pib</span> <span class="o">*</span> <span class="mi">1000000</span><span class="p">)</span> <span class="o">/</span> <span class="n">poblacion</span>

<span class="c1"># Creación de la columna GDP_PC (PIB per cápita en dólares)</span>
<span class="n">paises</span><span class="p">[</span><span class="s1">&#39;GDP_PC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pib_per_capita</span><span class="p">(</span><span class="n">paises</span><span class="p">[</span><span class="s1">&#39;GDP_MD&#39;</span><span class="p">],</span> <span class="n">paises</span><span class="p">[</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Se genera el gráfico de dispersión.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subconjunto de países seleccionados</span>
<span class="c1"># paises_seleccionados = paises.loc[[&#39;PAN&#39;, &#39;CRI&#39;, &#39;NIC&#39;, &#39;SLV&#39;, &#39;HND&#39;, &#39;GTM&#39;, &#39;BLZ&#39;]]</span>
<span class="c1"># paises_seleccionados = paises[paises[&#39;REGION_UN&#39;] == &#39;Americas&#39;]</span>
<span class="c1"># paises_seleccionados = paises[paises[&#39;REGION_UN&#39;] == &#39;Africa&#39;]</span>
<span class="n">paises_seleccionados</span> <span class="o">=</span> <span class="n">paises</span>

<span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de dispersión</span>
<span class="n">paises_seleccionados</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;GDP_PC&#39;</span><span class="p">,</span> 
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;LIFE_EXPECTANCY&#39;</span><span class="p">,</span> 
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>

<span class="c1"># Etiquetas en cada punto</span>
<span class="n">desplazamiento_x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">desplazamiento_y</span> <span class="o">=</span> <span class="mf">1.003</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">paises_seleccionados</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;GDP_PC&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">desplazamiento_x</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;LIFE_EXPECTANCY&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">desplazamiento_y</span><span class="p">,</span> 
        <span class="n">s</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> 
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> 
        <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span>
    <span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Relación entre PIB per cápita y esperanza de vida&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;PIB per cápita (dólares)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Esperanza de vida (años)&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Cuadrícula</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>posx and posy should be finite values
</pre></div>
</div>
<img alt="../../_images/f3cdd798ba9b3b1205414f6db4703af440be4d6f73aa3212c546479d47bc3d12.png" src="../../_images/f3cdd798ba9b3b1205414f6db4703af440be4d6f73aa3212c546479d47bc3d12.png" />
</div>
</div>
</section>
</section>
<section id="ejercicios">
<h4>Ejercicios<a class="headerlink" href="#ejercicios" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Programe gráficos de dispersión que muestren la relación entre los siguientes <a class="reference external" href="https://datos.bancomundial.org/indicador">indicadores del Banco Mundial</a>:</p></li>
</ol>
<ul class="simple">
<li><p>Tasa de alfabetización de adultos y PIB per cápita.</p></li>
</ul>
<p>Considere todos los países del mundo y diferentes regiones (continentes, economías, grupos de ingreso, etc.)</p>
</section>
</section>
<section id="graficos-de-lineas">
<h3>Gráficos de líneas<a class="headerlink" href="#graficos-de-lineas" title="Link to this heading">#</a></h3>
<p>Un <a class="reference external" href="https://en.wikipedia.org/wiki/Line_chart">gráfico de líneas</a> muestra información en la forma de puntos de datos, llamados marcadores (<em>markers</em>), conectados por segmentos de líneas rectas. Es similar a un gráfico de dispersión pero, además del uso de segmentos de línea, tiene la particularidad de que los datos están ordenados, usualmente con respecto al eje X. Los gráficos de línea son usados frecuentemente para mostrar tendencias a través del tiempo.</p>
<p>En matplotlib, los gráficos de barras se generan mediante el método <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot()</span></code></a>.</p>
<section id="id1">
<h4>Ejemplos<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<section id="evolucion-en-el-tiempo-de-la-esperanza-de-vida-al-nacer">
<h5>Evolución en el tiempo de la esperanza de vida al nacer<a class="headerlink" href="#evolucion-en-el-tiempo-de-la-esperanza-de-vida-al-nacer" title="Link to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga de datos de esperanza de vida al nacer por país</span>
<span class="n">esperanza_vida</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/gf0657-programacionsig/2024-ii/refs/heads/main/datos/world-bank/paises-esperanza-vida.csv&quot;</span>
<span class="p">)</span>

<span class="c1"># Filtro de datos para un país</span>
<span class="n">datos_cri</span> <span class="o">=</span> <span class="n">esperanza_vida</span><span class="p">[</span><span class="n">esperanza_vida</span><span class="p">[</span><span class="s1">&#39;Country Code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CRI&#39;</span><span class="p">]</span>

<span class="c1"># Filtro de datos para otro país</span>
<span class="n">datos_col</span> <span class="o">=</span> <span class="n">esperanza_vida</span><span class="p">[</span><span class="n">esperanza_vida</span><span class="p">[</span><span class="s1">&#39;Country Code&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;COL&#39;</span><span class="p">]</span>

<span class="c1"># Despliegue de los datos de uno de los países</span>
<span class="n">datos_col</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Name</th>
      <th>Country Code</th>
      <th>Indicator Name</th>
      <th>Indicator Code</th>
      <th>1960</th>
      <th>1961</th>
      <th>1962</th>
      <th>1963</th>
      <th>1964</th>
      <th>1965</th>
      <th>...</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>2023</th>
      <th>Unnamed: 68</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>45</th>
      <td>Colombia</td>
      <td>COL</td>
      <td>Life expectancy at birth, total (years)</td>
      <td>SP.DYN.LE00.IN</td>
      <td>57.13</td>
      <td>57.73</td>
      <td>58.30</td>
      <td>58.89</td>
      <td>59.38</td>
      <td>59.81</td>
      <td>...</td>
      <td>76.26</td>
      <td>76.47</td>
      <td>76.65</td>
      <td>76.75</td>
      <td>76.75</td>
      <td>74.77</td>
      <td>72.83</td>
      <td>73.66</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 69 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Se conservan solo las columnas correspondientes a los años</span>
<span class="n">datos_cri</span> <span class="o">=</span> <span class="n">datos_cri</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">68</span><span class="p">]</span>
<span class="n">datos_col</span> <span class="o">=</span> <span class="n">datos_col</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">68</span><span class="p">]</span>

<span class="n">datos_col</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1960   57.13
1961   57.73
1962   58.30
1963   58.89
1964   59.38
        ... 
2019   76.75
2020   74.77
2021   72.83
2022   73.66
2023     NaN
Name: 45, Length: 64, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de líneas del primer país</span>
<span class="n">datos_cri</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Costa Rica&#39;</span>
<span class="p">)</span>

<span class="c1"># Creación del gráfico de líneas del segundo país</span>
<span class="n">datos_col</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Colombia&#39;</span>
<span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Evolución en el tiempo de la esperanza de vida al nacer&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Año&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Esperanza de vida al nacer (años)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>  <span class="c1"># Se muestra la leyenda para identificar las líneas</span>

<span class="c1"># Cuadrícula</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/adec9ee9a7dbf5634a765598a02d9a21cdb562fb43167a119f608e1d7c098555.png" src="../../_images/adec9ee9a7dbf5634a765598a02d9a21cdb562fb43167a119f608e1d7c098555.png" />
</div>
</div>
</section>
</section>
<section id="id2">
<h4>Ejercicios<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Agregue más países al gráfico de evolución en el tiempo de la esperanza de vida al nacer.</p></li>
<li><p>Elabore un gráfico similar para el indicador de mortalidad infantil. Utilice datos de varios países.</p></li>
</ol>
</section>
</section>
<section id="graficos-de-barras">
<h3>Gráficos de barras<a class="headerlink" href="#graficos-de-barras" title="Link to this heading">#</a></h3>
<p>Un <a class="reference external" href="https://es.wikipedia.org/wiki/Diagrama_de_barras">gráfico de barras</a> se compone de barras rectangulares con longitud proporcional a estadísticas (ej. frecuencias, promedios, mínimos, máximos) asociadas a una variable categórica o discreta. Las barras pueden ser horizontales o verticales y se recomienda que estén ordenadas según su longitud, a menos que exista un orden inherente a la variable (ej. el orden de los días de la semana). Es uno de los tipos de gráficos estadísticos más antiguos y comunes y tiene la ventaja de ser muy fácil de comprender.</p>
<p>En matplotlib, los gráficos de barras se generan mediante los métodos <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.bar.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.bar()</span></code></a>, para barras verticales, y <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.barh.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.plot.barh()</span></code></a>, para barras horizontales.</p>
<section id="id3">
<h4>Ejemplos<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<section id="suma-de-poblacion-por-continente">
<h5>Suma de población por continente<a class="headerlink" href="#suma-de-poblacion-por-continente" title="Link to this heading">#</a></h5>
<p>Gráfico de barras verticales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma de población por continente</span>
<span class="n">poblacion_continente_suma</span> <span class="o">=</span> <span class="n">paises</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;CONTINENT&#39;</span><span class="p">)[</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de barras</span>
<span class="c1"># Es recomendable que las barras se muestren en orden</span>
<span class="n">poblacion_continente_suma</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Suma de población por continente&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Continente&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Población (habitantes)&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/112f106e1701b475eab8ad2be9b0c742ea77249f0fe613e5f3947434fba1b093.png" src="../../_images/112f106e1701b475eab8ad2be9b0c742ea77249f0fe613e5f3947434fba1b093.png" />
</div>
</div>
<p>Gráfico de barras horizontales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de barras</span>
<span class="c1"># Es recomendable que las barras se muestren en orden</span>
<span class="n">poblacion_continente_suma</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Suma de población por continente&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Población (habitantes)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Continente&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1e1b18e4abfee7e2fc83252e1cf1665bcc93efa0f08a1fc56112f07289f3b212.png" src="../../_images/1e1b18e4abfee7e2fc83252e1cf1665bcc93efa0f08a1fc56112f07289f3b212.png" />
</div>
</div>
</section>
<section id="suma-de-poblacion-por-region-y-subregion-de-la-onu">
<h5>Suma de población por región y subregión de la ONU<a class="headerlink" href="#suma-de-poblacion-por-region-y-subregion-de-la-onu" title="Link to this heading">#</a></h5>
<section id="barras-apiladas">
<h6>Barras apiladas<a class="headerlink" href="#barras-apiladas" title="Link to this heading">#</a></h6>
<p>Con el método <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.unstack.html"><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.unstack()</span></code></a> y el argumento <code class="docutils literal notranslate"><span class="pre">stacked=True</span></code> puede generarse un gráfico de barras apiladas (en inglés, <em>stacked</em>), el cual permite mostrar datos con varios niveles de agrupación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma de población por región y subregión de la ONU</span>
<span class="n">poblacion_region_subregion_suma</span> <span class="o">=</span> <span class="n">paises</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;REGION_UN&#39;</span><span class="p">,</span> <span class="s1">&#39;SUBREGION&#39;</span><span class="p">])[</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de barras agrupadas</span>
<span class="n">poblacion_region_subregion_suma</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
    <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Suma de población por región y subregión de la ONU&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Región&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Población (habitantes)&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Ajustar la posición de la leyenda</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Subregión&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>

<span class="c1"># Ajustar el diseño para dar más espacio a la leyenda</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/e136edf3c3005f319de7671394416a7b2f8709e89c27d94dd5ad075e3b973b28.png" src="../../_images/e136edf3c3005f319de7671394416a7b2f8709e89c27d94dd5ad075e3b973b28.png" />
</div>
</div>
</section>
<section id="barras-agrupadas">
<h6>Barras agrupadas<a class="headerlink" href="#barras-agrupadas" title="Link to this heading">#</a></h6>
<p>Otra forma de mostrar barras con diferentes niveles de agrupación son las barras agrupadas, con el argumento <code class="docutils literal notranslate"><span class="pre">stacked=False</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suma de población por región y subregión de la ONU</span>
<span class="n">poblacion_region_subregion_suma</span> <span class="o">=</span> <span class="n">paises</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;REGION_UN&#39;</span><span class="p">,</span> <span class="s1">&#39;SUBREGION&#39;</span><span class="p">])[</span><span class="s1">&#39;POP_EST&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Creación de una figura con espacio para un gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Creación del gráfico de barras agrupadas</span>
<span class="n">poblacion_region_subregion_suma</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
    <span class="n">stacked</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Personalización del gráfico</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Suma de población por región y subregión de la ONU&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Región&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Población (habitantes)&#39;</span><span class="p">)</span>

<span class="c1"># Configuración de marcas en los ejes para evitar la notación científica</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="c1"># Ajustar la posición de la leyenda</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Subregión&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>

<span class="c1"># Ajustar el diseño para dar más espacio a la leyenda</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Despliegue del gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/ed99797e4437cf71bab4e7ac7336d7c30630e9fab8e0dee3317bb48c26c4d59c.png" src="../../_images/ed99797e4437cf71bab4e7ac7336d7c30630e9fab8e0dee3317bb48c26c4d59c.png" />
</div>
</div>
</section>
</section>
</section>
<section id="id4">
<h4>Ejercicios<a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Programe gráficos de barras para:</p></li>
</ol>
<ul class="simple">
<li><p>Suma de PIB (<code class="docutils literal notranslate"><span class="pre">GDP_MD</span></code>) por economía (<code class="docutils literal notranslate"><span class="pre">ECONOMY</span></code>).</p></li>
<li><p>Promedio de PIB per cápita por grupo de ingresos (<code class="docutils literal notranslate"><span class="pre">INCOME_GRP</span></code>).</p></li>
</ul>
</section>
</section>
<section id="otros">
<h3>Otros<a class="headerlink" href="#otros" title="Link to this heading">#</a></h3>
<section id="climogramas">
<h4>Climogramas<a class="headerlink" href="#climogramas" title="Link to this heading">#</a></h4>
<p>Un <a class="reference external" href="https://es.wikipedia.org/wiki/Climograma">climograma</a> es un gráfico estadístico que combina las variables climáticas de temperatura y precitipación a lo largo de un período de tiempo, para una región o lugar específico. Permite visualizar las condiciones climáticas de un área, facilitando el análisis de patrones estacionales y tendencias climáticas.</p>
<p>Un climograma puede tomar varias formas. Una de las más usuales es la de un gráfico de barras combinado con un gráfico de líneas. Las barras representan las unidades de tiempo (ej. meses) y su longitud el valor de una de las variables (ej. precipitación), mientras que la línea muestra los valores de la otra variable (ej. temperatura).</p>
<p>En los siguientes bloque de código se genera un climograma con <a class="reference external" href="https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land-monthly-means?tab=overview">datos de temperatura y precipitación de ERA5</a>. <a class="reference external" href="https://www.ecmwf.int/en/forecasts/dataset/ecmwf-reanalysis-v5">ERA5</a> es el quinto conjunto de datos de reanálisis atmosférico global producido por el <a class="reference external" href="https://www.ecmwf.int/">Centro Europeo de Predicción a Medio Plazo (ECMWF)</a>. Es una reconstrucción del clima de la Tierra, desde 1950 hasta la actualidad.</p>
<p>Los datos que se utilizan en el climograma corresponden a los promedios mensuales de temperatura a 2 m de la superficie y de precipitación total para todo el territorio de Costa Rica, entre los años 2004 y 2023. Se utilizó una cuadrícula de 0.1 x 0.1 grados decimales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga de datos de clima</span>
<span class="n">clima</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/gf0657-programacionsig/2024-ii/refs/heads/main/datos/era5/temperatura-precipitacion-cri-2004-2023.csv&quot;</span>
<span class="p">)</span>

<span class="c1"># Se usa la columna mes como índice</span>
<span class="n">clima</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;mes&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Despliegue de los datos</span>
<span class="n">clima</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>temperatura</th>
      <th>precipitacion</th>
    </tr>
    <tr>
      <th>mes</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Enero</th>
      <td>22.15</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>Febrero</th>
      <td>22.60</td>
      <td>2.92</td>
    </tr>
    <tr>
      <th>Marzo</th>
      <td>23.16</td>
      <td>2.73</td>
    </tr>
    <tr>
      <th>Abril</th>
      <td>23.67</td>
      <td>4.72</td>
    </tr>
    <tr>
      <th>Mayo</th>
      <td>23.46</td>
      <td>11.91</td>
    </tr>
    <tr>
      <th>Junio</th>
      <td>23.12</td>
      <td>12.44</td>
    </tr>
    <tr>
      <th>Julio</th>
      <td>22.87</td>
      <td>11.75</td>
    </tr>
    <tr>
      <th>Agosto</th>
      <td>22.95</td>
      <td>12.03</td>
    </tr>
    <tr>
      <th>Septiembre</th>
      <td>22.91</td>
      <td>11.77</td>
    </tr>
    <tr>
      <th>Octubre</th>
      <td>22.59</td>
      <td>14.74</td>
    </tr>
    <tr>
      <th>Noviembre</th>
      <td>22.24</td>
      <td>12.65</td>
    </tr>
    <tr>
      <th>Diciembre</th>
      <td>22.13</td>
      <td>6.32</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear el climograma</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Gráfico de barras para precipitación</span>
<span class="n">clima</span><span class="p">[</span>
<span class="p">[</span><span class="s1">&#39;precipitacion&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> 
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> 
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Mes&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Precipitación (mm)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>

<span class="c1"># Gráfico de líneas para la temperatura (comparte los ejes de ax1)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">clima</span><span class="p">[[</span><span class="s1">&#39;temperatura&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> 
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> 
    <span class="n">legend</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Temperatura (°C)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="c1"># Título</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Precipitación y temperatura promedio mensual en Costa Rica entre 2004 y 2023&#39;</span><span class="p">)</span>

<span class="c1"># Leyendas</span>
<span class="n">lines</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">lines2</span><span class="p">,</span> <span class="n">labels2</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">lines2</span><span class="p">,</span> <span class="n">labels</span> <span class="o">+</span> <span class="n">labels2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>

<span class="c1"># Ajustar el diseño para evitar que las etiquetas se corten</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/db6f66ffff5b90dcc7f95428a6b0e6b6b3967ca40ce6144b26ae6c56df681bdd.png" src="../../_images/db6f66ffff5b90dcc7f95428a6b0e6b6b3967ca40ce6144b26ae6c56df681bdd.png" />
</div>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "gf0657-programacionsig/2024-ii",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./contenido/3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="pandas.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">pandas: biblioteca para análisis y manipulación de datos</p>
      </div>
    </a>
    <a class="right-next"
       href="../evaluaciones/tarea-01.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tarea 1</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalacion-y-carga">Instalación y carga</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaces">Interfaces</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaz-de-axes-basada-en-objetos-explicita">Interfaz de <code class="docutils literal notranslate"><span class="pre">Axes</span></code> (basada en objetos, explícita)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interfaz-de-pyplot-basada-en-funciones-implicita">Interfaz de <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> (basada en funciones, implícita)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integracion-con-pandas">Integración con pandas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipos-de-graficos">Tipos de gráficos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-dispersion">Gráficos de dispersión</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplos">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#poblacion-vs-pib">Población vs PIB</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#esperanza-de-vida-vs-pib-per-capita">Esperanza de vida vs PIB per cápita</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicios">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-lineas">Gráficos de líneas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucion-en-el-tiempo-de-la-esperanza-de-vida-al-nacer">Evolución en el tiempo de la esperanza de vida al nacer</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#graficos-de-barras">Gráficos de barras</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Ejemplos</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#suma-de-poblacion-por-continente">Suma de población por continente</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#suma-de-poblacion-por-region-y-subregion-de-la-onu">Suma de población por región y subregión de la ONU</a><ul class="nav section-nav flex-column">
<li class="toc-h6 nav-item toc-entry"><a class="reference internal nav-link" href="#barras-apiladas">Barras apiladas</a></li>
<li class="toc-h6 nav-item toc-entry"><a class="reference internal nav-link" href="#barras-agrupadas">Barras agrupadas</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Ejercicios</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otros">Otros</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#climogramas">Climogramas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Manuel Vargas
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>